<md-toolbar md-whiteframe="4" class="md-hue-1">
    <form class="md-padding" ng-submit="$event.preventDefault()" name="searchForm">
        <div layout-gt-sm="row">
            <md-autocomplete flex
                             md-no-cache="false"
                             md-input-name="autoCompleteField"
                             md-search-text="autoCompleteSearchText"
                             md-selected-item="selectedItem"
                             md-selected-item-change="selectedItemChange(selectedItem)"
                             md-items="item in autoCompleteQuerySearch(autoCompleteSearchText)"
                             md-item-text="item.text"
                             md-input-minlength="1"
                             placeholder="The following input allow you to search in the database any kind of aliments.">
                <md-item-template>
                    <span md-highlight-text="autoCompleteSearchText">{{ item.text }}</span>
                </md-item-template>
                <md-not-found>
                    No aliments matching ' {{ autoCompleteSearchText }} ' were found.
                </md-not-found>
                <div ng-messages="searchForm.autoCompleteField.$error" ng-if="searchForm.autoCompleteField.$touched">
                    <div ng-message="minlength">Your entry is not long enough.</div>
                </div>
            </md-autocomplete>
        </div>
    </form>
</md-toolbar>
<md-content md-scroll-y flex class="md-padding" layout="row" layout-align="center" layout-wrap ng-cloak="">
    <md-card flex ng-if="selectedItem">
        <md-card-title>
            <md-card-title-text>
                <span class="md-headline">Result for the research "{{ selectedItem.text }}"</span>
            </md-card-title-text>
            <md-card-title-media>
                <i class="material-icons">search</i>
            </md-card-title-media>
        </md-card-title>
        <md-card-content>
            <md-list flex>
                <md-list-item ng-class="isAlreadyInPantry(item) ? 'already-in-pantry' : ''" layout="row" class="md-3-line" ng-repeat="item in foundResults" ng-click="showItemInfo($event, item)">
                    <div class="md-list-item-text" flex layout="column">
                        <p><h3>{{ item.fields.item_name }}</h3></p>
                        <p><h4>{{ item.fields.brand_name }}</h4></p>
                        <md-chips>
                            <md-chip class="md-focused">{{ item.fields.nf_calories }} kcal</md-chip>
                        </md-chips>
                        <p ng-if="isAlreadyInPantry(item)"><i>Already in the pantry</i></p>
                    </div>
                    <md-button class="md-secondary md-icon-button" ng-click="addItem($event, item)"><i class="material-icons">add</i></md-button>
                    <md-divider ng-if="!$last"></md-divider>
                </md-list-item>
            </md-list>
        </md-card-content>
    </md-card>
</md-content>
<section layout="row" layout-padding layout-align="center center" layout-fill ng-if="paging.total">
    <pagination ym-pages="paging.total" ym-page-changed="changePage()" ym-nbr-page-shown="4" ym-current-page="paging.current"></pagination>
</section>